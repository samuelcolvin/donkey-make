#!/usr/bin/env donk
lint:
- set -e -x
- cargo fmt --all -- --check
- cargo clippy -- -D warnings

fmt:
- cargo fmt

test:
- python3 -m pytest tests/

all:
- set -e -x
- cargo fmt --all -- --check
- cargo clippy -- -D warnings
- python3 -m pytest tests/

release:
  - rm -rf target/release/
  - export TRAVIS_COMMIT="$(git rev-parse HEAD)"
  - cargo build --release
  - cp target/release/donkey-make donk

.default: all
